jQuery(document).ready(function(i){i("#entry_filters").removeClass("hide-if-js");const{ajaxurl:r}=window,{fetchFields:g}=window.gkAdvancedFilter,{translations:f,targetElementSelector:u}=window.gkQueryFilters_advanced_filters;let{fields:o}=window.gkQueryFilters_advanced_filters,{fields_conditional_logic:d}=window.gkAdvancedFilter;const s=i("#gravityview_form_id"),_=s.val(),l=()=>{const{action:e,nonce:t}=g;i.ajax({type:"post",dataType:"json",url:r,data:{action:e,nonce:t,form_id:i("#gravityview_form_id").val()},success:n=>{n.success&&({fields_conditional_logic:d,fields_complete:o}=n.data)},complete:()=>{i(u).data("query-filters").updateFields(o)}})};o.length||l(),s.on("change",_===""?l:null),i("body").on("gravityview_form_change",l).on("dialogopen",".gv-fields",function(e){const t=i(e.target).find(".gv-setting-container-conditional_logic_container .gv-field-conditional-logic"),n=i(e.target).find(".gv-setting-container-conditional_logic input"),v=i(e.target).find(".gv-setting-container-conditional_logic_fail_output");let c=null;if(!(t.length===0||t.hasClass("initialized"))){t.addClass("initialized");try{c=JSON.parse(n.val())}catch{}t.queryFilters({conditions:c,fields:d,translations:f,onConditionsUpdate:a=>{n.val(JSON.stringify(a)),v.toggleClass("hidden",!a)}})}})});
