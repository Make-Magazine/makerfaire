jQuery(document).bind("gform_post_render",function(e,o,d){var a={form:void 0!=typeof gfgeo_gforms[o]?gfgeo_gforms[o]:!1,page_number:d,place_details_enabled:!1,protocol:gfgeo_options.protocol,options:gfgeo_options,prefix:"gfgeo-",country_code:"US",navigator_timeout:1e4,navigator_high_accuracy:gfgeo_options.high_accuracy,geocoder_timeout:1e4,geocoder_timeout_message:"The request to verify the location timed out.",geocoder_id:!1,maps:{},autocompletes:{},processing:{status:!1,element:!1,location:!1,advanced_address:!1,selected_address:"",autocomplete_place:"",found_message:"",hide_error_message:"",locator_id:"",element_id:""},navigator_error_messages:{1:"User denied the request for Geolocation.",2:"Location information is unavailable.",3:"The request to get the user's location timed out.",4:"An unknown error occurred",5:"Sorry! Geolocation is not supported by this browser."},geocoder_failed_error_message:{advanced_address_geocoder:"We could not verify the address you entered.",address_geocoder:"We could not verify the address you entered.",coords_geocoder:"We could not verify the coordinates you entered.",map:"We could not verify the location you selected."},page_locator:{triggered:!1},map_field_exists:!1,autocomplete_triggered:!1,ip_locator:gfgeo_options.ip_locator,ip_token:gfgeo_options.ip_token,hide_error_messages:gfgeo_options.hide_error_messages,verify_geocoding:!1,directions_display:[],destinationMarkers:[],init:function(){return a.form?("undefined"!=typeof gform&&(a=gform.applyFilters("gfgeo_form_object",a,a.form)),"maxmind"==a.ip_locator&&"undefined"==typeof geoip2&&(a.ip_locator=!1),jQuery.each(a.form.fields,function(e,o){this_field_id=a.form.id+"_"+o.id,"gfgeo_geocoder"==o.type&&(jQuery('label[for="input_'+this_field_id+'"]').remove(),(1==a.form.gfgeo_page_load||1==a.form.gfgeo_form_update)&&(void 0!=jQuery(".gfgeo_default_latitude."+this_field_id).val()&&""!=jQuery(".gfgeo_default_latitude."+this_field_id).val()&&void 0!=jQuery(".gfgeo_default_longitude."+this_field_id).val()&&""!=jQuery(".gfgeo_default_longitude."+this_field_id).val()?(a.geocoder_id=this_field_id,a.geocoder("default_coords_geocoder",[jQuery(".gfgeo_default_latitude."+this_field_id).val(),jQuery(".gfgeo_default_longitude."+this_field_id).val()],a.default_coords_geocoder_success,!1)):1==a.form.gfgeo_page_load&&1==o.gfgeo_page_locator&&setTimeout(function(){a.page_locator.triggered=!0,a.processing.found_message=o.gfgeo_location_found_message,a.processing.hide_error_message=o.gfgeo_hide_location_failed_message,a.geocoder_id=a.form.id+"_"+o.id,0!=a.ip_locator&&(a.processing.ip_locator=void 0!==o.gfgeo_ip_locator_status?o.gfgeo_ip_locator_status:""),o.pageNumber==a.page_number&&(0!=a.ip_locator&&"default"==a.processing.ip_locator?a.ip_navigator("ip_page_locator",a.page_locator_success,!1):a.navigator("page_locator",a.page_locator_success,!1))},2e3))),"gfgeo_map"==o.type&&jQuery("#gfgeo-map-"+this_field_id).length&&1!=o.adminOnly&&(a.map_field_exists=!0,a.render_map(jQuery("#gfgeo-map-"+this_field_id).data(),o)),"gfgeo_address"==o.type&&(""!=o.gfgeo_geocoder_id&&0!=jQuery("."+a.prefix+"geocoded-field-"+a.form.id+"_"+o.gfgeo_geocoder_id+".status").length&&a.address_field_init(jQuery("#gfgeo-address-locator-wrapper-"+this_field_id).find(":input")),1==o.gfgeo_address_autocomplete&&a.address_autocomplete("input_"+this_field_id,!1)),"gfgeo_coordinates"==o.type&&""!=o.gfgeo_geocoder_id&&0!=jQuery("."+a.prefix+"geocoded-field-"+a.form.id+"_"+o.gfgeo_geocoder_id+".status").length&&a.coordinates_field_init(jQuery("#gfgeo-coordinates-wrapper-"+this_field_id)),"address"!=o.type||"undefined"!==o.gfgeo_disable_field_geocoding&&1==o.gfgeo_disable_field_geocoding||(field_wrapper=jQuery("#field_"+this_field_id),""!=o.gfgeo_geocoder_id&&0!=jQuery("."+a.prefix+"geocoded-field-"+a.form.id+"_"+o.gfgeo_geocoder_id+".status").length&&(a.advanced_address_field_init(field_wrapper),1==o.gfgeo_address_autocomplete&&a.address_autocomplete(field_wrapper.find(".advanced-address-autocomplete").attr("id"),!1))),("text"==o.type||"post_custom_field"==o.type)&&1==o.gfgeo_address_autocomplete&&a.address_autocomplete("input_"+this_field_id,!1)}),jQuery("."+a.prefix+"locator-button").on("click",function(){a.processing.status||(a.processing.found_message=jQuery(this).data("found_message"),a.processing.hide_error_message=jQuery(this).data("hide_failed_message"),a.processing.locator_id=jQuery(this).data("locator_id"),a.geocoder_id=jQuery(this).data("geocoder_id"),0!=a.ip_locator&&(a.processing.ip_locator=jQuery(this).data("ip_locator")),0!=a.ip_locator&&"default"==a.processing.ip_locator?(console.log("ip locator"),a.ip_navigator("ip_locator_button",a.locator_button_success,!1)):(console.log("locator"),a.navigator("locator_button",a.locator_button_success,!1)))}),void(a.map_field_exists&&a.resize_map_on_show())):(console.log("something went wrong while trying to retrive the form object."),!1)},processing_start:function(e,o){a.processing.status=!0,a.processing.element=e,a.processing.location=o,jQuery.each(a.maps,function(e,o){a.maps[e].map.setOptions({draggable:!1}),a.maps[e].marker.setDraggable(!1)}),jQuery("body").find('input[type="submit"], .gfgeo-locator-button, input.gfgeo-address-field, input.gfgeo-coordinates-field, .gfgeo-advanced-address input').prop("disabled",!0)},processing_end:function(){setTimeout(function(){a.processing={status:!1,element:!1,location:!1,advanced_address:!1,selected_address:"",autocomplete_place:"",found_message:"",locator_id:"",element_id:""},jQuery.each(a.maps,function(e,o){a.maps[e].map.setOptions({draggable:!0}),a.maps[e].marker.setDraggable(!0)}),jQuery("body").find('input[type="submit"], .gfgeo-locator-button, input.gfgeo-address-field, input.gfgeo-coordinates-field, .gfgeo-advanced-address input').prop("disabled",!1),setTimeout(function(){jQuery("."+a.prefix+"locator-loader").fadeOut("fast",function(){jQuery("."+a.prefix+"locator-button").fadeIn()})},500)},300)},clear_fields:function(e,o){if("coords_geocoder"!=o&&jQuery('.gfgeo-coordinates-field[data-geocoder_id="'+e+'"]').val("").trigger("change"),"map"==o){var d=jQuery("#gfgeo-map-"+a.processing.element_id).data("disable_address_output");if(1==d)return}"advanced_address_geocoder"!=o&&(jQuery(".gfgeo-advanced-address-geocoder-id-"+a.geocoder_id).find("span input").val("").trigger("change"),jQuery(".gfgeo-advanced-address-geocoder-id-"+a.geocoder_id).find('span select option[value=""]').prop("selected",!0).trigger("change")),jQuery("input."+a.prefix+"geocoded-field-"+e+'[type="text"], input.'+a.prefix+"geocoded-field-"+e+'[type="hidden"]').val("").trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e).find('input[type="text"]').val("").trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e).find('input[type="hidden"]').val("").trigger("change"),"undefined"!=typeof a.directions_display[e]&&(a.directions_display[e].setMap(null),"undefined"!=typeof a.destinationMarkers[e]&&a.destinationMarkers[e].setMap(null),jQuery("#"+a.directions_display[e].panel.id).closest("li").slideUp(function(){jQuery(this).find("#"+a.directions_display[e].panel.id).html("")})),jQuery(".gfgeo-geocoded-hidden-fields-wrapper").each(function(){if(jQuery(this).data("distance_destination_geocoder_id")==a.geocoder_id){var e=jQuery(this).data("geocoder_id"),o="."+a.prefix+"geocoded-field-"+e,d=o+".gfgeo-distance_text, "+o+".gfgeo-distance_value, "+o+".gfgeo-duration_text, "+o+".gfgeo-duration_value";jQuery(d).find('input[type="hidden"]').val("").trigger("change"),jQuery(d).find('input[type="text"]').val("").trigger("change"),"undefined"!=typeof a.destinationMarkers[e]&&a.destinationMarkers[e].setMap(null),"undefined"!=typeof a.directions_display[e]&&(a.directions_display[e].setMap(null),jQuery("#"+a.directions_display[e].panel.id).closest("li").slideUp(function(){jQuery(this).find("#"+a.directions_display[e].panel.id).html("")}))}})},geocoder_timed_out:function(e){a.hide_error_messages||a.processing.hide_error_message?console.log(e):alert(e),a.processing_end()},geocoder_success:function(e){},geocoder_failed:function(e){var o=a.geocoder_failed_error_message[a.processing.element],d=o+". Error: "+e;console.log(d),a.hide_error_messages||a.processing.hide_error_message?console.log(o):alert(o),a.clear_fields(a.geocoder_id,"failed_geocoding"),a.processing_end()},geocoder:function(e,o,d,t){if(!a.processing.status){a.processing_start(e,o);var s,i=!1;"object"==typeof o?data={latLng:new google.maps.LatLng(o[0],o[1]),region:a.options.country_code}:data={address:o,region:a.options.country_code},geocoder=new google.maps.Geocoder,geocoder.geocode(data,function(r,n){return i?void a.geocoder_timed_out(a.geocoder_timeout_message):(clearTimeout(s),n==google.maps.GeocoderStatus.OK?void 0!=d&&0!=d?d(r[0]):a.geocoder_success(r[0]):(jQuery(document).trigger("gfgeo_geocoder_failed",[a]),"map"!=e||a.verify_geocoding?"coords_geocoder"!=e||a.verify_geocoding?void 0!=t&&0!=t?t(n):a.geocoder_failed(n):a.coords_geocoder_failed_allowed(o,n):a.map_geocoder_failed_allowed(o,n)))}),s=setTimeout(function(){i=!0},a.geocoder_timeout)}},map_geocoder_failed_allowed:function(e,o){results={formatted_address:"",address_components:""},a.save_location_fields(results,"map")},coords_geocoder_failed_allowed:function(e,o){alert("No address was found."),results={formatted_address:"",address_components:""},a.save_location_fields(results,"coords_geocoder")},navigator_success:function(e){a.save_location_fields(e)},navigator_failed:function(e){a.hide_error_messages||a.processing.hide_error_message?console.log(e):alert(e),a.processing_end()},navigator:function(e,o,d){function t(t){a.processing.status=!1,a.geocoder(e,[t.coords.latitude,t.coords.longitude],o,d)}function s(t){0!=a.ip_locator&&"fallback"==a.processing.ip_locator?(console.log("fallback ip locator"),a.ip_navigator(e,o,d)):3==t.code?a.geocoder_timed_out(a.navigator_error_messages[t.code]):d(a.navigator_error_messages[t.code])}if(o="undefined"==o||0==o?a.navigator_success:o,d="undefined"==d||0==d?a.navigator_failed:d,navigator.geolocation)a.processing_start(e,[]),jQuery("."+a.prefix+"locator-button.infield-locator").fadeOut("fast",function(){jQuery("."+a.prefix+"locator-loader").fadeIn()}),navigator.geolocation.getCurrentPosition(t,s,{timeout:a.navigator_timeout,enableHighAccuracy:a.navigator_high_accuracy});else{if(0==a.ip_locator||"fallback"!=a.processing.ip_locator)return d(a.navigator_error_messages[5]);a.ip_navigator(e,o,d)}},ip_navigator_success:function(e){a.save_location_fields(e)},ip_navigator_failed:function(e){console.log(e),a.processing_end()},ip_navigator:function(e,o,d){function t(t){a.processing.status=!1,console.log(t),"ipinfo"==a.ip_locator?(latlng=t.loc.split(","),ipLat=latlng[0],ipLng=latlng[1]):(ipLat=t.location.latitude,ipLng=t.location.longitude),a.geocoder(e,[ipLat,ipLng],o,d)}function s(e){d("Error:\n\n"+JSON.stringify(e,void 0,4))}o="undefined"==o||0==o?a.ip_navigator_success:o,d="undefined"==d||0==d?a.ip_navigator_failed:d,a.processing_start(e,[]),jQuery("."+a.prefix+"locator-button.infield-locator").fadeOut("fast",function(){jQuery("."+a.prefix+"locator-loader").fadeIn()}),"ipinfo"==a.ip_locator?(ipToken="",""!=a.ip_token&&(ipToken="/?token="+a.ip_token),jQuery.getJSON(a.protocol+"://ipinfo.io"+ipToken,t).error(s)):"maxmind"==a.ip_locator&&"undefined"!=typeof geoip2&&geoip2.insights(t,s)},page_locator_success:function(e){""!=a.processing.found_message&&void 0!=a.processing.found_message&&alert(a.processing.found_message),a.save_location_fields(e,"page_locator")},locator_button_success:function(e){""!=a.processing.found_message&&void 0!=a.processing.found_message&&alert(a.processing.found_message),a.save_location_fields(e,"locator_button")},address_geocoder_success:function(e){a.save_location_fields(e,"address_geocoder")},address_field_init:function(e){address_changed=!1,e.on("input",function(){address_changed=!0}),e.on(gfgeo_options.address_field_event_triggers,function(o){if(address_changed&&("keydown"==o.type&&13==o.which||"focusout"==o.type||"mouseleave"==o.type)){"keydown"==o.type&&13==o.which&&o.preventDefault();var d=jQuery(this);setTimeout(function(){if(1==a.autocomplete_triggered)a.autocomplete_triggered=!1,address_changed=!1;else{address_changed=!1,a.geocoder_id=d.data("geocoder_id");var o=e.val();0!=jQuery.trim(o).length?(address_changed=!1,a.geocoder("address_geocoder",o,a.address_geocoder_success,!1)):(address_changed=!1,a.clear_fields(a.geocoder_id,"address_geocoder"))}},700)}})},advanced_address_field_init:function(e){0!=e.find(".address_autocomplete").length&&(autocomplete=e.find(".address_autocomplete"),container=autocomplete.closest("li").find("div.ginput_container_address"),tabindex=e.find("span input").first().attr("tabindex"),autocomplete.find("input").attr("tabindex",tabindex),autocomplete.detach().prependTo(container).show(),autocomplete.find("input").on("keydown",function(e){13==e.which&&e.preventDefault()})),address_changed=!1,e.find("span input").on("input",function(){address_changed=!0}),e.find("span select").on("click",function(){address_changed=!0}),e.on("mouseleave",function(o){setTimeout(function(){if(address_changed){var o=e.find("span input, span select");entered_address="",o.each(function(){entered_address=entered_address+" "+jQuery(this).val()}),a.geocoder_id=e.find(".gfgeo-advanced-address-geocoder-id").data("geocoder_id"),0!=jQuery.trim(entered_address).length?(address_changed=!1,a.geocoder("advanced_address_geocoder",entered_address,a.advanced_address_geocoder_success,!1)):(address_changed=!1,a.clear_fields(a.geocoder_id,"advanced_address_geocoder"))}},300)}),e.find("span input, span select").on("keydown focusout",function(o){"keydown"==o.type&&13==o.which&&(o.preventDefault(),address_changed=!1,entered_address="",e.find("span input, span select").each(function(){entered_address=entered_address+" "+jQuery(this).val()}),a.geocoder_id=e.find(".gfgeo-advanced-address-geocoder-id").data("geocoder_id"),0!=jQuery.trim(entered_address).length?a.geocoder("advanced_address_geocoder",entered_address,a.advanced_address_geocoder_success,!1):a.clear_fields(a.geocoder_id,"advanced_address_geocoder")),"focusout"==o.type&&address_changed&&(e=jQuery(this).closest("li.gfield"),focusFields=e.find("span input, span select"),setTimeout(function(){focusFields.is(":focus")||(entered_address="",focusFields.each(function(){entered_address=entered_address+" "+jQuery(this).val()}),a.geocoder_id=e.find(".gfgeo-advanced-address-geocoder-id").data("geocoder_id"),0!=jQuery.trim(entered_address).length?(address_changed=!1,a.geocoder("advanced_address_geocoder",entered_address,a.advanced_address_geocoder_success,!1)):(address_changed=!1,a.clear_fields(a.geocoder_id,"advanced_address_geocoder")))},300))})},advanced_address_geocoder_success:function(e){a.save_location_fields(e,"advanced_address_geocoder")},coordinates_field_init:function(e){coords_changed=!1,coords_input=e.find("input"),coords_input.on("input",function(){coords_changed=!0}),coords_input.on("keydown focusout",function(o){"keydown"==o.type&&13==o.which&&(coords_changed=!1,o.preventDefault(),a.coordinates_trigger(e,"enter_key")),"focusout"==o.type&&coords_changed&&setTimeout(function(){e.find("input").is(":focus")||(coords_changed=!1,a.coordinates_trigger(e,"focusout"))},300)})},coordinates_trigger:function(e,o){a.geocoder_id=e.data("geocoder_id"),this_lat=e.find(".gfgeo-latitude-field").val().replace(/ /g,""),this_lng=e.find(".gfgeo-longitude-field").val().replace(/ /g,""),""==this_lat||""==this_lng?""==this_lat&&""==this_lng?a.clear_fields(a.geocoder_id,"coordinates_geocoder"):"enter_key"==o&&alert("You must enter both latitude and longitude."):a.geocoder("coords_geocoder",[this_lat,this_lng],a.coords_geocoder_success,!1)},coords_geocoder_success:function(e){a.save_location_fields(e,"coords_geocoder")},default_coords_geocoder_success:function(e){a.save_location_fields(e,"default_coords_geocoder")},render_map:function(e,o){a.maps[e.map_id]={},a.maps[e.map_id].args=e,check_lat=jQuery("#gfgeo-geocoded-hidden-fields-wrapper-"+e.geocoder_id+" input.latitude").val(),check_lng=jQuery("#gfgeo-geocoded-hidden-fields-wrapper-"+e.geocoder_id+" input.longitude").val(),0!=jQuery.trim(check_lat).length&&0!=jQuery.trim(check_lng).length&&(e.latitude=check_lat,e.longitude=check_lng),a.maps[e.map_id].latlng=new google.maps.LatLng(e.latitude,e.longitude),a.maps[e.map_id].options={zoom:parseInt(e.zoom_level),center:a.maps[e.map_id].latlng,mapTypeId:google.maps.MapTypeId[e.map_type],backgroundColor:"#f1f1f1",scrollwheel:e.scrollwheel,styles:"undefined"!=typeof o.gfgeo_map_styles?jQuery.parseJSON(o.gfgeo_map_styles):""},a.maps[e.map_id].map=new google.maps.Map(document.getElementById(a.prefix+"map-"+e.map_id),a.maps[e.map_id].options),a.maps[e.map_id].marker=new google.maps.Marker({position:a.maps[e.map_id].latlng,map:a.maps[e.map_id].map,draggable:e.draggable,icon:e.map_marker}),google.maps.event.addListener(a.maps[e.map_id].marker,"dragend",function(o){a.geocoder_id=e.geocoder_id,a.processing.element_id=e.map_id,a.geocoder("map",[o.latLng.lat(),o.latLng.lng()],a.map_geocoder_success,!1)}),1==e.drag_on_click&&(a.map_single_click=!1,google.maps.event.addListener(a.maps[e.map_id].map,"click",function(o){a.map_single_click=!0,setTimeout(function(){a.map_single_click&&(a.maps[e.map_id].marker.setPosition(o.latLng),a.processing.element_id=e.map_id,a.geocoder_id=e.geocoder_id,a.geocoder("map",[o.latLng.lat(),o.latLng.lng()],a.map_geocoder_success,!1))},200)}),google.maps.event.addListener(a.maps[e.map_id].map,"dblclick",function(e){a.map_single_click=!1})),jQuery(document).trigger("gfgeo_render_map",[a,e])},update_map:function(e,o,d){jQuery("#"+a.prefix+"map-"+e).length&&(a.maps[e].latLng=new google.maps.LatLng(o,d),a.maps[e].marker.setPosition(a.maps[e].latLng),a.maps[e].map.panTo(a.maps[e].latLng),setTimeout(function(){a.maps[e].marker.setDraggable(a.maps[e].args.draggable)},800),jQuery(document).trigger("gfgeo_update_map",[a.maps[e],a,o,d]))},map_geocoder_success:function(e){a.save_location_fields(e,"map")},resize_map_on_show:function(){"undefined"!=typeof gform&&gform.addAction("gform_post_conditional_logic_field_action",function(e,o,d,t,s){s||"show"!=o||(map_id=d.replace("#field_",""),0!=jQuery("#gfgeo-map-"+map_id).length&&"undefined"!=typeof a.maps[map_id]&&(google.maps.event.trigger(a.maps[map_id].map,"resize"),a.maps[map_id].map.panTo(a.maps[map_id].marker.position)))})},address_autocomplete:function(e,o){var d=jQuery("#"+e);"0"==gfgeo_options.field_autocomplete&&d.on("focusin",function(){jQuery(this).attr("autocomplete","stop")}),d.on("keydown",function(e){13==e.which&&e.preventDefault()});var t={};if(""!=d.data("autocomplete_country")&&void 0!=d.data("autocomplete_country")&&(t.componentRestrictions={country:d.data("autocomplete_country").split(",")}),""!=d.data("autocomplete_types")&&void 0!=d.data("autocomplete_types")&&(t.types=[d.data("autocomplete_types")]),""!=d.data("autocomplete_bounds")&&void 0!=d.data("autocomplete_bounds")){var s=new google.maps.LatLngBounds,i=d.data("autocomplete_bounds").replace(" ","").split("|");jQuery.each(i,function(e,o){var d=[];if(d=o.split(","),void 0!=d[0]&&void 0!=d[1]){var a=parseFloat(d[0]),t=parseFloat(d[1]);s.extend(new google.maps.LatLng(a,t))}}),t.bounds=s}var r=document.getElementById(e);a.autocompletes[e]=new google.maps.places.Autocomplete(r,t),google.maps.event.addListener(a.autocompletes[e],"place_changed",function(o){a.geocoder_id=jQuery(r).data("geocoder_id");var d=a.autocompletes[e].getPlace();d.geometry&&""!=jQuery(r).data("geocoder_id")&&(a.autocomplete_triggered=!0,a.processing_start("address_autocomplete",[d.geometry.location.lat(),d.geometry.location.lng()]),jQuery(r).hasClass("advanced-address-autocomplete")?a.processing.advanced_address=!0:a.processing.advanced_address=!1,a.processing.selected_address=jQuery(r).val(),"undefined"!=typeof a.autocompletes[e].gm_accessors_.place.Td&&(a.processing.autocomplete_place=a.autocompletes[e].gm_accessors_.place.Td.formattedPrediction),jQuery(r).trigger("change"),a.save_location_fields(d,"address_autocomplete"))})},get_driving_directions:function(e,o){setTimeout(function(){if("1"==jQuery("#input_"+e+"_status").val()&&"1"==jQuery("#input_"+o+"_status").val()){var d,t,s,i,r,n,c,_,g,l;a.form.id;d=jQuery("#input_"+e+"_latitude").val(),t=jQuery("#input_"+e+"_longitude").val(),s=new google.maps.LatLng(d,t),i=jQuery("#input_"+e+"_address").val(),d=jQuery("#input_"+o+"_latitude").val(),t=jQuery("#input_"+o+"_longitude").val(),r=new google.maps.LatLng(d,t),n=jQuery("#input_"+o+"_address").val(),c=jQuery("#gfgeo-geocoded-hidden-fields-wrapper-"+e).data(),_="metric"==c.unit_system?google.maps.UnitSystem.METRIC:google.maps.UnitSystem.IMPERIAL,route_map_id=c.route_map_id,route_on_map=c.show_route_on_map,directions_panel=c.directions_panel_id,g=!1,PanelEnabbled=!1;var p={origin:s,destination:r,travelMode:c.travel_mode,unitSystem:_};"undefined"!=typeof gform&&(p=gform.applyFilters("gfgeo_driving_directions_options",p,e,o,c,a));var u=new google.maps.DirectionsService;if((""!=route_map_id||""!=directions_panel)&&(a.directions_display[e]=new google.maps.DirectionsRenderer({suppressMarkers:!0}),""!=route_map_id&&jQuery("#gfgeo-map-"+route_map_id).length&&(g=!0,a.directions_display[e].setMap(null),"undefined"!=typeof a.destinationMarkers[e]&&a.destinationMarkers[e].setMap(null),a.directions_display[e].setMap(a.maps[route_map_id].map)),""!=directions_panel)){l=!0;var f="gfgeo-directions-panel-holder-"+directions_panel;a.directions_display[e].setPanel(null),a.directions_display[e].setPanel(document.getElementById(f)),jQuery("#"+f).closest("li").slideDown()}u.route(p,function(d,t){"OK"==t?((1==g||1==l)&&(a.directions_display[e].setDirections(d),1==g&&(a.destinationMarkers[e]=new google.maps.Marker({position:d.routes[0].legs[0].end_location,icon:"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20width%3D%2227px%22%20height%3D%2243px%22%20viewBox%3D%220%200%2027%2043%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%3Cdefs%3E%0A%3Cpath%20id%3D%22a%22%20d%3D%22m12.5%200c-6.9039%200-12.5%205.5961-12.5%2012.5%200%201.8859%200.54297%203.7461%201.4414%205.4617%203.425%206.6156%2010.216%2013.566%2010.216%2022.195%200%200.46562%200.37734%200.84297%200.84297%200.84297s0.84297-0.37734%200.84297-0.84297c0-8.6289%206.7906-15.58%2010.216-22.195%200.89844-1.7156%201.4414-3.5758%201.4414-5.4617%200-6.9039-5.5961-12.5-12.5-12.5z%22%2F%3E%0A%3C%2Fdefs%3E%0A%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%3Cg%20transform%3D%22translate(1%201)%22%3E%0A%3Cuse%20fill%3D%22%23EA4335%22%20fill-rule%3D%22evenodd%22%20xlink%3Ahref%3D%22%23a%22%2F%3E%0A%3Cpath%20d%3D%22m12.5-0.5c7.18%200%2013%205.82%2013%2013%200%201.8995-0.52398%203.8328-1.4974%205.6916-0.91575%201.7688-1.0177%201.9307-4.169%206.7789-4.2579%206.5508-5.9907%2010.447-5.9907%2015.187%200%200.74177-0.6012%201.343-1.343%201.343s-1.343-0.6012-1.343-1.343c0-4.7396-1.7327-8.6358-5.9907-15.187-3.1512-4.8482-3.2532-5.01-4.1679-6.7768-0.97449-1.8608-1.4985-3.7942-1.4985-5.6937%200-7.18%205.82-13%2013-13z%22%20stroke%3D%22%23fff%22%2F%3E%0A%3C%2Fg%3E%0A%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%220.3em%22%20x%3D%2214%22%20y%3D%2215%22%20font-family%3D%22Roboto%2C%20Arial%2C%20sans-serif%22%20font-size%3D%2216px%22%20fill%3D%22%23FFF%22%3EB%3C%2Ftext%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"}),c=jQuery("#gfgeo-geocoded-hidden-fields-wrapper-"+e).data(),route_map_id=c.route_map_id,a.destinationMarkers[e].setMap(a.maps[route_map_id].map))),jQuery(document).trigger("gfgeo_distance_calculation_success",[d,a,e,o]),a.generate_distance_values(e,d.routes[0].legs[0].distance,d.routes[0].legs[0].duration)):("ZERO_RESULTS"==t&&alert("No route could be found between "+i+" and "+n+"."),jQuery(document).trigger("gfgeo_distance_calculation_failed",[a]))})}},1e3)},generate_distance_values:function(e,o,d){a.generate_location_data(e,"distance_text",o.text),a.generate_location_data(e,"distance_value",o.text.replace(/[^0-9.]/g,"")),a.generate_location_data(e,"duration_text",d.text),a.generate_location_data(e,"duration_value",d.value)},generate_location_data:function(e,o,d){jQuery("input."+a.prefix+"geocoded-field-"+e+"."+o+'[type="hidden"]').val(d).trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e+"."+a.prefix+o).find('input[type="text"]').val(d).trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e+"."+a.prefix+o).find('input[type="hidden"]').val(d).trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e+"."+a.prefix+o).find('select option[value="'+d+'"]').prop("selected",!0).trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e+"."+a.prefix+o).find('input[type="radio"][value="'+d+'"]').prop("checked",!0).trigger("change"),jQuery("."+a.prefix+"geocoded-field-"+e+"."+a.prefix+o).find('input[type="checkbox"][value="'+d+'"]').prop("checked",!0).trigger("change"),0!=jQuery(".gfgeo-advanced-address-geocoder-id-"+e).length&&"advanced_address_geocoder"!=a.processing.element&&("street"==o&&jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_line_1 input[type="text"]').val(d).trigger("change"),"city"==o&&jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_city input[type="text"]').val(d).trigger("change"),"region_name"==o&&(jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_state input[type="text"]').val(d).trigger("change"),jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_state select option[value="'+d+'"]').prop("selected",!0).trigger("change")),"region_code"==o&&jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_state select option[value="'+d+'"]').prop("selected",!0).trigger("change"),"postcode"==o&&jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_zip input[type="text"]').val(d).trigger("change"),"country_name"==o&&jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_country select option[value="'+d+'"]').prop("selected",!0).trigger("change"),"country_code"==o&&jQuery(".gfgeo-advanced-address-geocoder-id-"+e).find('span.address_country select option[value="'+d+'"]').prop("selected",!0).trigger("change"))},get_place_details:function(e,o,d){var t=new google.maps.places.PlacesService(jQuery("<div>").get(0));t.getDetails({placeId:e.place_id},function(t,s){"OK"==s&&(void 0!==t.name&&a.generate_location_data(a.geocoder_id,"place_name",t.name),jQuery(document).trigger("gfgeo_place_details",[t,o,e,d,a]))})},save_location_fields:function(e,o){if(0!=a.processing.locator_id&&""!=a.processing.locator_id&&jQuery("#gfgeo-infield-locator-button-"+a.processing.locator_id).closest("li.gfield").find(".gfgeo-address-field").val(e.formatted_address).trigger("change"),""==a.geocoder_id)return void a.processing_end();a.form.id;if(jQuery(document).trigger("gfgeo_save_location_data_start",[e,o,a]),a.clear_fields(a.geocoder_id,o),address_fields={street_number:"",street_name:"",street:"",street_bw:"",premise:"",subpremise:"",neighborhood:"",city:"",region_code:"",region_name:"",country:"",postcode:"",country_code:"",country_name:"",address:e.formatted_address,formatted_address:e.formatted_address,lat:"",lng:"",place_id:e.place_id||"",distance:"",duration:""},"coords_geocoder"==o||"map"==o?(address_fields.lat=a.processing.location[0],address_fields.lng=a.processing.location[1]):(address_fields.lat=e.geometry.location.lat(),address_fields.lng=e.geometry.location.lng()),("address_geocoder"==o||"advanced_address_geocoder"==o)&&"string"==typeof a.processing.location&&(address_fields.address=a.processing.location.trim()),"address_autocomplete"==o&&(address_fields.address=a.processing.selected_address),"map"!=o&&jQuery.each(a.maps,function(e,o){o.args.geocoder_id==a.geocoder_id&&a.update_map(e,address_fields.lat,address_fields.lng)}),"page_locator"==o&&0!=jQuery('input[data-geocoder_id="'+a.geocoder_id+'"][data-address_autocomplete="1"][data-autocomplete_locator_bounds="1"]').length&&address_fields.lat){var d=jQuery('input[data-geocoder_id="'+a.geocoder_id+'"][data-address_autocomplete="1"][data-autocomplete_locator_bounds="1"]').attr("id"),t=new google.maps.Circle({center:{lat:address_fields.lat,lng:address_fields.lng}});a.autocompletes[d].setBounds(t.getBounds())}if(a.generate_location_data(a.geocoder_id,"latitude",address_fields.lat),a.generate_location_data(a.geocoder_id,"longitude",address_fields.lng),jQuery("."+a.prefix+'latitude-field[data-geocoder_id="'+a.geocoder_id+'"]').val(address_fields.lat).trigger("change"),jQuery("."+a.prefix+'longitude-field[data-geocoder_id="'+a.geocoder_id+'"]').val(address_fields.lng).trigger("change"),"map"==o){var s=jQuery("#gfgeo-map-"+a.processing.element_id).data("disable_address_output");if(1==s)return jQuery("input."+a.prefix+"geocoded-field-"+a.geocoder_id+".status").val("1").trigger("change"),a.processing_end(),address_fields}"address_geocoder"!=o&&"address_autocomplete"!=o&&jQuery("."+a.prefix+'address-field[data-geocoder_id="'+a.geocoder_id+'"]').val(e.formatted_address).trigger("change"),a.generate_location_data(a.geocoder_id,"address",address_fields.address),a.generate_location_data(a.geocoder_id,"formatted_address",address_fields.formatted_address),address_fields.place_id&&(jQuery(".gfgeo-place_name").length||1==a.place_details_enabled)&&a.get_place_details(address_fields,e,o),address=e.address_components||[];var i=!1,r=!1;for(var n in address){if("street_number"==address[n].types&&void 0!=address[n].long_name&&(address_fields.street_number=address[n].long_name,a.generate_location_data(a.geocoder_id,"street_number",address_fields.street_number)),"subpremise"==address[n].types&&void 0!=address[n].long_name&&(address_fields.subpremise=address[n].long_name,a.generate_location_data(a.geocoder_id,"subpremise",address_fields.subpremise)),"route"==address[n].types&&void 0!=address[n].long_name){if(address_fields.street_name=address[n].long_name,a.generate_location_data(a.geocoder_id,"street_name",address_fields.street_name),""!=address_fields.street_number){var c=" ";""!=address_fields.subpremise&&(c="/"+address_fields.subpremise+" "),address_fields.street=address_fields.street_number+c+address_fields.street_name,address_fields.street_bw=address_fields.street_name+c+address_fields.street_number}else address_fields.street=address_fields.street_name,address_fields.street_bw=address_fields.street_name;a.generate_location_data(a.geocoder_id,"street",address_fields.street),a.generate_location_data(a.geocoder_id,"street_bw",address_fields.street_bw)}"premise"==address[n].types&&void 0!=address[n].long_name&&(address_fields.premise=address[n].long_name,a.generate_location_data(a.geocoder_id,"premise",address_fields.premise)),"neighborhood,political"==address[n].types&&void 0!=address[n].long_name&&(address_fields.neighborhood=address[n].long_name,a.generate_location_data(a.geocoder_id,"neighborhood",address_fields.neighborhood)),"locality,political"==address[n].types&&void 0!=address[n].long_name&&(address_fields.city=address[n].long_name,a.generate_location_data(a.geocoder_id,"city",address_fields.city),i=!0),"administrative_area_level_3,political"==address[n].types&&void 0!=address[n].long_name&&(r=address[n].long_name),i||"political,sublocality,sublocality_level_1"!=address[n].types||void 0==address[n].long_name||(address_fields.city=address[n].long_name,a.generate_location_data(a.geocoder_id,"city",address_fields.city),i=!0),i||"postal_town"!=address[n].types||void 0==address[n].long_name||(address_fields.city=address[n].long_name,a.generate_location_data(a.geocoder_id,"city",address_fields.city),i=!0),"administrative_area_level_2,political"==address[n].types&&void 0!=address[n].long_name&&(address_fields.county=address[n].long_name,a.generate_location_data(a.geocoder_id,"county",address_fields.county)),"administrative_area_level_1,political"==address[n].types&&(address_fields.region_name=address[n].long_name,address_fields.region_code=address[n].short_name,a.generate_location_data(a.geocoder_id,"region_code",address_fields.region_code),
a.generate_location_data(a.geocoder_id,"region_name",address_fields.region_name)),"postal_code"==address[n].types&&void 0!=address[n].long_name&&(address_fields.postcode=address[n].long_name,a.generate_location_data(a.geocoder_id,"postcode",address_fields.postcode)),"country,political"==address[n].types&&(address_fields.country_name=address[n].long_name,address_fields.country_code=address[n].short_name,a.generate_location_data(a.geocoder_id,"country_code",address_fields.country_code),a.generate_location_data(a.geocoder_id,"country_name",address_fields.country_name)),jQuery(document).trigger("gfgeo_save_location_field_data",[address[n],a,e,o])}return i||0==r||a.generate_location_data(a.geocoder_id,"city",r),jQuery("input."+a.prefix+"geocoded-field-"+a.geocoder_id+".status").val("1").trigger("change"),jQuery(".gfgeo-geocoded-hidden-fields-wrapper").each(function(){jQuery(this).data("geocoder_id")==a.geocoder_id&&""!=jQuery(this).data("distance_destination_geocoder_id")?a.get_driving_directions(a.geocoder_id,jQuery(this).data("distance_destination_geocoder_id")):jQuery(this).data("distance_destination_geocoder_id")==a.geocoder_id&&a.get_driving_directions(jQuery(this).data("geocoder_id"),a.geocoder_id)}),jQuery(document).trigger("gfgeo_save_location_data_end",[address_fields,a,e,o]),a.processing_end(),address_fields}};a.init()});