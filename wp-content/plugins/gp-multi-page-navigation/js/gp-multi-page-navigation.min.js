(p=>{window.GPMultiPageNavigation=function(t){var g=this;g.formId=t.formId,g.$formElem=p("form#gform_"+g.formId),g.lastPage=t.lastPage,g.activationType=t.activationType,g.labels=t.labels,g.enableSubmissionFromLastPageWithErrors=t.enableSubmissionFromLastPageWithErrors,g.addedButtons=[],g.init=function(){window.gform.addAction("gppt_after_transition",function(t){g.updateUI(),p("input#gw_page_progression").val(t.currentPage)});p(document).on("click","a.gpmpn-page-link, a.gwmpn-page-link, .gpmpn-page-link a",function(t){t.preventDefault();var e,t=p(this).attr("href").split("#");2<=t.length&&(e=(e=0<(e=0<(e=p(this).parents("form")).length?e:p(".gform_wrapper form")).length?e:p(".gform_wrapper").parent("form")).attr("id").split("_")[1],t=t.pop(),GPMultiPageNavigation.postToPage(t,e,!0))}),g.updateUI()},g.updateUI=function(){g.$formElem.length<=0&&(g.$formElem=p("#gform_wrapper_"+g.formId)),g.$footer=p("#gform_page_"+g.formId+"_"+g.getCurrentPage()+" .gform_page_footer"),g.$saveAndContinueButton=g.$footer.find("a.gform_save_link"),"last_page"==g.activationType&&!g.isLastPageReached()||(g.$formElem.find(".gf_step").each(function(t){t+=1;"progression"==g.activationType&&t>g.getPageProgression()||(t!=g.getCurrentPage()?p('a[href="#'+t+'"]').length&&p(this).hasClass("gpmpn-step-linked")||p(this).html(g.getPageLinkMarkup(t,p(this).html())).addClass("gpmpn-step-linked"):(p(this).find("a").children().unwrap(),p(this).find("a").remove(),p(this).addClass("gpmpn-step-current"),p(this).addClass("gf_step_active")))}),"last_page"==g.activationType&&!g.isLastPage()&&g.isLastPageReached()?g.addBackToLastPageButton():"progression"==g.activationType&&g.getCurrentPage()<g.getPageProgression()?g.addBackToLastPageButton(g.getPageProgression()):!g.isLastPage()&&g.wasFinalSubmissionAttempted()&&g.addNextPageWithErrorsButton(),g.$formElem.data("GPMultiPageNavigation",g),window["gpmpn_"+g.formId]=g)},g.getPageLinkMarkup=function(t,e){return'<a href="#'+t+'" class="gwmpn-page-link gwmpn-default gpmpn-page-link gpmpn-default">'+e+"</a>"},g.addBackToLastPageButton=function(t){t='<input type="button" onclick="GPMultiPageNavigation.postToPage( '+(t=void 0===t?g.lastPage:t)+", "+g.formId+' );" value="'+g.labels.backToLastPage+'" class="button gform_button gform_last_page_button">';g.insertButton(t)},g.addNextPageWithErrorsButton=function(){var t=1<g.getErrorPagesCount()?g.labels.nextPageWithErrors:g.labels.submit,e=1<g.getErrorPagesCount()?"gform_next_page_errors_button":"gform_resubmit_button",t='<input type="button" onclick="GPMultiPageNavigation.postToPage( 0, '+g.formId+' );" value="'+t+'" class="button gform_button '+e+'">';g.getErrorPagesCount()<=1&&!g.enableSubmissionFromLastPageWithErrors?g.addBackToLastPageButton():g.insertButton(t)},g.insertButton=function(t){0<=g.addedButtons.indexOf(t)||(0<g.$saveAndContinueButton.length?g.$saveAndContinueButton.before(t):g.$footer.append(t),g.addedButtons.push(t))},g.getCurrentPage=function(){return g.$formElem.find("input#gform_source_page_number_"+g.formId).val()},g.getPageProgression=function(){return parseInt(p("input#gw_page_progression").val())},g.getErrorPagesCount=function(){return g.errorPagesCount||(g.errorPagesCount=g.$formElem.find("input#gw_error_pages_count").val()),g.errorPagesCount},g.isLastPage=function(){return g.getCurrentPage()>=g.lastPage},g.isLastPageReached=function(){return g.isLastPage()||1==g.$formElem.find("input#gw_last_page_reached").val()},g.wasFinalSubmissionAttempted=function(){return 1==g.$formElem.find("input#gw_final_submission_attempted").val()},GPMultiPageNavigation.postToPage=function(t,e,n){var a,o,r=p("form#gform_"+e),i=r.find("input#gform_target_page_number_"+e),s=g.getCurrentPage(),i=(i.val(t),window["GPPageTransitions_"+e]);if(void 0!==i&&i.enableSoftValidation)return n||i.validate()?0==t?void r.submit():(o=g.$formElem.find(".swiper-slide:not(.swiper-slide-disabled"),a=g.$formElem.find("#gform_page_"+g.formId+"_"+t),i.swiper.slideTo(o.index(a)),i.currentPage=t,i.sourcePage=s,i.updateProgressIndicator(s),void g.$formElem.trigger("softValidationPageLoad.gppt",[t,s,e])):void 0;n&&(o=p('<input type="hidden" name="gw_bypass_validation" id="gw_bypass_validation" value="1" />'),r.append(o)),r.find(".gform_page_footer:visible").find('input[type="submit"], input[type="button"]').not(":visible").css({display:"block",visibility:"hidden",position:"absolute"}),0===parseInt(t)&&(p("#gform_submit_button_"+e).appendTo(".gform_page_footer:visible").css({display:"block",visibility:"hidden",position:"absolute"}),gform.addFilter("gform_spinner_target_elem",function(t){gform.removeFilter("gform_spinner_target_elem",10,"gpmpn_set_spinner_target");var e=p(".gform_next_page_errors_button:visible, .gform_resubmit_button:visible");return e.length?e:t},10,"gpmpn_set_spinner_target")),r.submit()},g.init()}})(jQuery),window.gformOrigInitSpinner=window.gformInitSpinner,window.gformInitSpinner=function(t,e){void 0!==e&&e||(e=gform.applyFilters("gform_spinner_url",gf_global.spinnerUrl,t));var n=jQuery("#gform_"+t);n.submit(function(){0==jQuery("#gform_ajax_spinner_"+t).length&&n.find(".gform_page_footer").append('<img id="gform_ajax_spinner_'+t+'"  class="gform_ajax_spinner" src="'+e+'" alt="" />')})};
//# sourceMappingURL=gp-multi-page-navigation.js.map