
(function(a,b){a._EPYT_=a._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus-pro/scripts/",eppath:"/wp-content/plugins/youtube-embed-plus-pro/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:true,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:true,ajax_compat:false,usingdefault:true,ytapi_load:"light",pause_others:false};a._EPYT_.touchmoved=false;a._EPYT_.apiVideos=a._EPYT_.apiVideos||{};if(a.location.toString().indexOf("https://")===0){a._EPYT_.ajaxurl=a._EPYT_.ajaxurl.replace("http://","https://")}a._EPYT_.pageLoaded=false;b(a).on("load._EPYT_",function(){a._EPYT_.pageLoaded=true});if(!document.querySelectorAll){document.querySelectorAll=function(d){var f=document,e=f.documentElement.firstChild,c=f.createElement("STYLE");e.appendChild(c);f.__qsaels=[];c.styleSheet.cssText=d+"{x:expression(document.__qsaels.push(this))}";a.scrollBy(0,0);return f.__qsaels}}if(typeof a._EPADashboard_==="undefined"){a._EPADashboard_={initStarted:false,checkCount:0,onPlayerReady:function(d){try{if(typeof _EPYT_.epdovol!=="undefined"&&_EPYT_.epdovol){var i=parseInt(d.target.getIframe().getAttribute("data-vol"));if(!isNaN(i)){if(i===0){d.target.mute()}else{if(d.target.isMuted()){d.target.unMute()}d.target.setVolume(i)}}}var g=parseInt(d.target.getIframe().getAttribute("data-epautoplay"));if(!isNaN(g)&&g===1){d.target.playVideo()}}catch(h){}try{var f=b(d.target.getIframe());if(f.hasClass("epyt-lbif")&&f.hasClass("epyt-thumbplay")&&f.closest(".lity-content").length){if(!(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)&&a._EPYT_.stopMobileBuffer)){d.target.playVideo()}}}catch(j){}try{var c=d.target.getIframe();var k=c.getAttribute("id");a._EPYT_.apiVideos[k]=d.target;a._EPADashboard_.doLiveChat(d.target)}catch(e){}setTimeout(function(){try{var m=a._EPADashboard_.justid(d.target.getVideoUrl());a._EPADashboard_.yt_dash("ytid="+m)}catch(l){}},1700)},onPlayerStateChange:function(c){var h=c.target.getIframe();if(a._EPYT_.pause_others&&c.data===a.YT.PlayerState.PLAYING){a._EPADashboard_.pauseOthers(c.target)}if(c.data===a.YT.PlayerState.PLAYING&&c.target.ponce!==true&&h.src.indexOf("autoplay=1")===-1){c.target.ponce=true;try{var k=a._EPADashboard_.justid(c.target.getVideoUrl());a._EPADashboard_.yt_dash("ytid="+k+"&p=1")}catch(e){}}if(c.data===a.YT.PlayerState.ENDED&&b(h).data("relstop")=="1"){if(typeof c.target.stopVideo==="function"){c.target.stopVideo()}else{var l=b(h).clone(true).off();l.attr("src",a._EPADashboard_.cleanSrc(l.attr("src").replace("autoplay=1","autoplay=0")));b(h).replaceWith(l);a._EPADashboard_.setupevents(l.attr("id"));h=l.get(0)}}var j=b(h).closest(".epyt-gallery");if(!j.length){j=b("#"+b(h).data("epytgalleryid"))}if(j.length){var g=j.find(".epyt-pagebutton").first().data("autonext")=="1";if(g&&c.data===a.YT.PlayerState.ENDED){var d=j.find(".epyt-current-video");if(!d.length){d=j.find(".epyt-gallery-thumb").first()}var f=d.find(" ~ .epyt-gallery-thumb").first();var i=b("div.lity-wrap[data-lity-close]");if(f.length){if(i.length){a._EPADashboard_.lb.close();setTimeout(function(){f.trigger("click")},1000)}else{f.trigger("click")}}else{if(i.length){a._EPADashboard_.lb.close();setTimeout(function(){j.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().trigger("click")},1000)}else{j.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().trigger("click")}}}}},isMobile:function(){return/Mobi|Android/i.test(navigator.userAgent)},doLiveChat:function(d){var g=b(d.getIframe()).closest(".epyt-live-chat-wrapper");if(g.length){try{if(true){var c=typeof d.getVideoData=="function"?d.getVideoData().video_id||a._EPADashboard_.justid(d.getVideoUrl()):a._EPADashboard_.justid(d.getVideoUrl());var f=document.createElement("iframe");b(f).addClass("epyt-live-chat").attr("src","https://www.youtube.com/live_chat?v="+c+"&embed_domain="+a.location.hostname);g.find(".epyt-live-chat-box").append(f);if(g.width()>964){g.addClass("epyt-live-chat-wrapper--wide")}b(a).on("resize",function(){if(g.width()>964){g.addClass("epyt-live-chat-wrapper--wide");if(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1){}}else{g.removeClass("epyt-live-chat-wrapper--wide");if(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1){}}})}else{g.find(".epyt-live-chat-box").remove()}}catch(e){}}},videoEqual:function(d,c){if(d.getIframe&&c.getIframe&&d.getIframe().id===c.getIframe().id){return true}return false},pauseOthers:function(e){if(!e){return}for(var d in a._EPYT_.apiVideos){var c=a._EPYT_.apiVideos[d];if(c&&typeof c.pauseVideo==="function"&&c!=e&&!_EPADashboard_.videoEqual(c,e)&&typeof c.getPlayerState==="function"&&[YT.PlayerState.BUFFERING,a.YT.PlayerState.PLAYING].indexOf(c.getPlayerState())>=0){c.pauseVideo()}}},justid:function(c){return new RegExp("[\\?&]v=([^&#]*)").exec(c)[1]},setupevents:function(e){if(typeof(a.YT)!=="undefined"&&a.YT!==null&&a.YT.loaded){var c=document.getElementById(e);if(!c.epytsetupdone){a._EPADashboard_.log("Setting up YT API events: "+e);c.epytsetupdone=true;var d={events:{onReady:a._EPADashboard_.onPlayerReady,onStateChange:a._EPADashboard_.onPlayerStateChange}};return new a.YT.Player(e,d)}}},yt_dash:function(c){if(a._EPYT_.dshpre){b.post(_EPYT_.ajaxurl,{action:"my_embedplus_yt_dash",security:_EPYT_.security,qstring:"es=w&u="+encodeURIComponent(a.location.href.split("#")[0])+"&"+c})}},apiInit:function(){if(typeof(a.YT)!=="undefined"){a._EPADashboard_.initStarted=true;var c=document.querySelectorAll(_EPYT_.evselector);for(var d=0;d<c.length;d++){if(!c[d].hasAttribute("id")){c[d].id="_dytid_"+Math.round(Math.random()*8999+1000)}a._EPADashboard_.setupevents(c[d].id)}}},log:function(d){try{console.log(d)}catch(c){}},doubleCheck:function(){a._EPADashboard_.checkInterval=setInterval(function(){a._EPADashboard_.checkCount++;if(a._EPADashboard_.checkCount>=5||a._EPADashboard_.initStarted){clearInterval(a._EPADashboard_.checkInterval)}else{a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API init check")}},1000)},selectText:function(e){if(document.selection){var c=document.body.createTextRange();c.moveToElementText(e);c.select()}else{if(a.getSelection){var d=a.getSelection();var c=document.createRange();c.selectNode(e);d.removeAllRanges();d.addRange(c)}}},lb:typeof(a.lity)!=="undefined"?a.lity():function(){},fixDims:function(f,d){var e=b(f.target).find("iframe");if((e.height()===0||e.width()===0||e.css("position")!=="absolute")&&!e.parent().parent().hasClass("lity-content")){var c=document.createElement("div");c.className="fluid-width-video-wrapper";e.unwrap();e.wrap(c).parent(".fluid-width-video-wrapper").attr("style","padding-top: 56.25% !important;");e.width("100%");e.height("100%")}},setVidSrc:function(c,d){c.attr("src",a._EPADashboard_.cleanSrc(d));c.get(0).epytsetupdone=false;a._EPADashboard_.setupevents(c.attr("id"))},cleanSrc:function(d){var c=d.replace("enablejsapi=1?enablejsapi=1","enablejsapi=1");return c},loadYTAPI:function(){if(typeof a.YT==="undefined"){if(a._EPYT_.ytapi_load!=="never"&&(a._EPYT_.ytapi_load==="always"||b('iframe[src*="youtube.com/embed/"], iframe[data-src*="youtube.com/embed/"], .__youtube_prefs__').length)){var c=document.createElement("script");c.src="https://www.youtube.com/iframe_api";c.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(c)}}else{if(a.YT.loaded){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available 2")})}}}},pageReady:function(){b(".epyt-gallery").each(function(){var i=b(this);if(!i.data("epytevents")||!b("body").hasClass("block-editor-page")){i.data("epytevents","1");var h=b(this).find("iframe, div.__youtube_prefs_gdpr__").first();var g="content"+h.attr("id");i.find(".lity-hide").attr("id",g);var d=h.data("src")||h.attr("src");if(!d){d=h.data("ep-src")}var f=b(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid");if(typeof(d)!=="undefined"){d=d.replace(f,"GALLERYVIDEOID");i.data("ep-gallerysrc",d)}else{if(h.hasClass("__youtube_prefs_gdpr__")){i.data("ep-gallerysrc","")}}var c=i.find(".epyt-gallery-list");var e=function(){try{if(c.hasClass("epyt-gallery-style-carousel")){var j=b(c.find(".epyt-gallery-thumb").get(0)).height();var k=j/2;var l=c.find(".epyt-pagination:first-child .epyt-pagenumbers");l.css("top",(k+15)+"px")}}catch(m){}};setTimeout(function(){e()},300);b(a).on("resize",e);i.on("click touchend",".epyt-gallery-list .epyt-gallery-thumb",function(n){h=i.find("iframe, div.__youtube_prefs_gdpr__").first();if(a._EPYT_.touchmoved){return}if(!b(this).hasClass("epyt-current-video")||i.hasClass("epyt-lb")){i.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video");b(this).addClass("epyt-current-video");var j=b(this).data("videoid");i.data("currvid",j);var o=i.data("ep-gallerysrc").replace("GALLERYVIDEOID",j);var m=i.find(".epyt-pagebutton").first().data("thumbplay");if(m!=="0"&&m!==0){if(o.indexOf("autoplay")>0){o=o.replace("autoplay=0","autoplay=1")}else{o+="&autoplay=1"}h.addClass("epyt-thumbplay")}if(i.hasClass("epyt-lb")){a._EPADashboard_.lb("#"+g);o=o.replace("autoplay=1","autoplay=0");if(h.is("[data-ep-src]")){h.data("ep-src",o);h.attr("data-ep-src",o)}else{a._EPADashboard_.setVidSrc(h,o)}b(".lity-close").trigger("focus")}else{if(i.find(".epyt-gallery-style-carousel").length===0){var k=Math.max(b("body").scrollTop(),b("html").scrollTop());var l=h.offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(k>l){b("html, body").animate({scrollTop:l},500,function(){a._EPADashboard_.setVidSrc(h,o)})}else{a._EPADashboard_.setVidSrc(h,o)}}else{a._EPADashboard_.setVidSrc(h,o)}}}}).on("touchmove",function(j){a._EPYT_.touchmoved=true}).on("touchstart",function(){a._EPYT_.touchmoved=false}).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",function(k){var j=k.which;if((j===13)||(j===32)){k.preventDefault();b(this).trigger("click")}});i.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).addClass("hover");if(c.hasClass("epyt-gallery-style-carousel")&&i.find(".epyt-pagebutton").first().data("showtitle")==1){i.find(".epyt-pagenumbers").addClass("hide");var j=b(this).find(".epyt-gallery-notitle span").text();i.find(".epyt-gallery-rowtitle").text(j).addClass("hover")}});i.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).removeClass("hover");if(c.hasClass("epyt-gallery-style-carousel")&&i.find(".epyt-pagebutton").first().data("showtitle")==1){i.find(".epyt-gallery-rowtitle").text("").removeClass("hover");if(i.find('.epyt-pagebutton[data-pagetoken!=""]').length>0){i.find(".epyt-pagenumbers").removeClass("hide")}}});i.on("click touchend",".epyt-pagebutton",function(n){if(a._EPYT_.touchmoved){return}if(!i.find(".epyt-gallery-list").hasClass("epyt-loading")){i.find(".epyt-gallery-list").addClass("epyt-loading");var j=typeof(n.originalEvent)!=="undefined";var m={action:"my_embedplus_gallery_page",security:_EPYT_.security,options:{playlistId:b(this).data("playlistid"),pageToken:b(this).data("pagetoken"),pageSize:b(this).data("pagesize"),columns:b(this).data("epcolumns"),showTitle:b(this).data("showtitle"),showPaging:b(this).data("showpaging"),autonext:b(this).data("autonext"),hidethumbimg:b(this).data("hidethumbimg"),style:b(this).data("style"),thumbcrop:b(this).data("thumbcrop"),showDsc:b(this).data("showdsc"),thumbplay:b(this).data("thumbplay")}};if(b(this).data("showdsc")){m.options.showDsc=b(this).data("showdsc")}var k=b(this).hasClass("epyt-next");var l=parseInt(i.data("currpage")+"");l+=k?1:-1;i.data("currpage",l);b.post(_EPYT_.ajaxurl,m,function(o){i.find(".epyt-gallery-list").html(o);i.find(".epyt-current").each(function(){b(this).text(i.data("currpage"))});i.find('.epyt-gallery-thumb[data-videoid="'+i.data("currvid")+'"]').addClass("epyt-current-video");if(i.find(".epyt-pagebutton").first().data("autonext")=="1"&&!j){i.find(".epyt-gallery-thumb").first().trigger("click")}}).fail(function(){alert("Sorry, there was an error loading the next page.")}).always(function(){i.find(".epyt-gallery-list").removeClass("epyt-loading");e();if(i.find(".epyt-gallery-style-carousel").length===0&&i.find(".epyt-pagebutton").first().data("autonext")!="1"){var o=Math.max(b("body").scrollTop(),b("html").scrollTop());var p=i.find(".epyt-gallery-list").offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(o>p){b("html, body").animate({scrollTop:p},500)}}})}}).on("touchmove",function(j){a._EPYT_.touchmoved=true}).on("touchstart",function(){a._EPYT_.touchmoved=false})}});b("button.__youtube_prefs_gdpr__").on("click",function(c){c.preventDefault();if(b.cookie){b.cookie("ytprefs_gdpr_consent","1",{expires:30,path:"/"});a.top.location.reload()}})}}}a.onYouTubeIframeAPIReady=typeof a.onYouTubeIframeAPIReady!=="undefined"?a.onYouTubeIframeAPIReady:function(){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready 2")})}};a._EPADashboard_.loadYTAPI();if(a._EPYT_.pageLoaded){a._EPADashboard_.doubleCheck()}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.doubleCheck()})}b(document).ready(function(){b(document).on("lity:ready",function(e,c){try{a._EPADashboard_.fixDims(e,c)}catch(d){}});a._EPADashboard_.pageReady();a._EPADashboard_.loadYTAPI();if(a._EPYT_.ajax_compat){b(a).on("load._EPYT_",function(){b(document).ajaxSuccess(function(d,f,c){if(f&&f.responseText&&f.responseText.indexOf("<iframe ")!==-1){a._EPADashboard_.loadYTAPI();a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API AJAX");a._EPADashboard_.pageReady()}})})}b(a).on("load._EPYT_",function(){b('script[type="text/javascript/ytdefer"]').each(function(){b(this).clone().attr("type","").insertAfter(this)})})})})(window,jQuery);