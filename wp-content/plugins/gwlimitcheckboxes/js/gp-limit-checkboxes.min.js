!function(o){window.GPLimitCheckboxes=function(e){var l=this;for(prop in e)e.hasOwnProperty(prop)&&(l[prop]=e[prop]);l.init=function(){window.GPLimitCheckboxes&&!window.GPLimitCheckboxes.instances&&(window.GPLimitCheckboxes.instances={}),l.bindTriggerEvents(),l.listenForChanges(),window.GPLimitCheckboxes.instances[l.formId]=l},l.resetCheckboxElemCache=function(){l.checkboxElemCache={}},l.bindTriggerEvents=function(){for(var e=[],i=o.map(l.triggers,function(e){return e}),t=0;t<i.length;t++)e.push(i[t].selector);var n=o(e.join(", "));l.resetCheckboxElemCache(),n.each(function(){o(this).parents(".gfield").data("gf-disabled-assessed")&&!o(this).hasClass("gf-default-disabled")||o(this).filter(":disabled").addClass("gplc-pre-disabled")}),n.filter('input[id$="select_all"]').addClass("gplc-select-all"),n.change(function(){l.handleCheckboxClick(o(this))}).each(function(){l.handleCheckboxClick(o(this))})},l.listenForChanges=function(){o(document).on("gppa_updated_batch_fields",function(e,i){i==l.formId&&l.bindTriggerEvents()})},l.handleCheckboxClick=function(e){for(var i=[],t=[],n=void 0!==e?parseInt(e.attr("id").split("_")[2]):null,r=0;r<l.groups.length;r++)if(-1!==l.groups[r].fields.indexOf(n)){var c=gform.applyFilters("gplc_group",o.extend(!0,{},l.groups[r]),n,e,l);l.isGroupMaxed(c)?i=o.merge(i,c.fields):t=o.merge(t,c.fields)}(t=GPLimitCheckboxes.diff(t,i)).length&&l.getCheckboxesByFieldIds(t).not(".gplc-pre-disabled, .gplc-select-all").attr("disabled",!1);if(i.length){var s=l.getCheckboxesByFieldIds(i);s.not(":checked, .gplc-pre-disabled, .gplc-select-all").attr("disabled",!0),s.filter(":checked:disabled:not( .gplc-pre-disabled )").attr("checked",!1).trigger("change")}},l.isGroupMaxed=function(e){var i=0;return o(l.getSelector(e.fields)).filter(":checked:not( .gplc-select-all )").each(function(){var e=this.id.split("_");i+=gform.applyFilters("gplcb_checkbox_count",1,l.formId,parseInt(e[2]),parseInt(e[3]))}),i>=e.max},l.getSelector=function(e){for(var i=[],t=0;t<e.length;t++){var n=e[t];n in l.triggers&&i.push(l.triggers[n].selector)}return i.join(", ")},l.getCheckboxesByFieldIds=function(e){var i=e.join(",");return i in l.checkboxElemCache||(l.checkboxElemCache[i]=o(l.getSelector(e))),l.checkboxElemCache[i]},l.isFieldHidden=function(e){var i=o("#input_"+l.formId+"_"+e);return gformIsHidden(i.children(":first-child"))},GPLimitCheckboxes.diff=function(e,i){return e.filter(function(e){return i.indexOf(e)<0})},l.init()}}(jQuery);
//# sourceMappingURL=gp-limit-checkboxes.js.map