(a=>{window.GPLimitCheckboxes=function(e){var d=this;for(prop in e)e.hasOwnProperty(prop)&&(d[prop]=e[prop]);d.init=function(){window.GPLimitCheckboxes&&!window.GPLimitCheckboxes.instances&&(window.GPLimitCheckboxes.instances={}),d.bindTriggerEvents(),d.listenForChanges(),window.GPLimitCheckboxes.instances[d.formId]=d},d.resetCheckboxElemCache=function(){d.checkboxElemCache={}},d.bindTriggerEvents=function(){for(var e=[],t=a.map(d.triggers,function(e){return e}),i=0;i<t.length;i++)e.push(t[i].selector);var n=a(e.join(", "));d.resetCheckboxElemCache(),n.each(function(){a(this).parents(".gfield").data("gf-disabled-assessed")&&!a(this).hasClass("gf-default-disabled")||a(this).hasClass("gplc-disabled")||a(this).filter(":disabled").addClass("gplc-pre-disabled")}),n.filter('input[id$="select_all"]').addClass("gplc-select-all"),n.change(function(){d.handleCheckboxClick(a(this))}).each(function(){d.handleCheckboxClick(a(this))})},d.listenForChanges=function(){a(document).on("gppa_updated_batch_fields",function(e,t){t==d.formId&&d.bindTriggerEvents()}),gform.addAction("gpi_field_refreshed",function(e,t,i){e.closest("form").prop("id").replace("gform_","")==d.formId&&d.bindTriggerEvents()})},d.handleCheckboxClick=function(e){for(var t,i,n=[],r=[],o=void 0!==e?parseInt(e.attr("id").split("_")[2]):null,c=window.gform.applyFilters("gplc_excluded_input_selectors",[],o,e,d).join(", "),s=0;s<d.groups.length;s++){var l=gform.applyFilters("gplc_group",a.extend(!0,{},d.groups[s]),o,e,d);d.isGroupMaxed(l)?a.merge(n,l.fields):a.merge(r,l.fields)}(r=GPLimitCheckboxes.diff(r,n)).length&&(t=(i=d.getCheckboxesByFieldIds(r)).filter(function(){return 0<a(this).closest(".gw-none-of-the-above").length}),i.not(".gplc-pre-disabled, .gplc-select-all").not(c).not(t).attr("disabled",!1).removeClass("gplc-disabled")),n.length&&((i=d.getCheckboxesByFieldIds(n)).not(":checked, .gplc-pre-disabled, .gplc-select-all").not(c).attr("disabled",!0).addClass("gplc-disabled"),i.filter(":checked:disabled:not( .gplc-pre-disabled )").not(c).attr("checked",!1).trigger("change"))},d.getCheckboxCheckedCount=function(e){var t=0;return a(d.getSelector(e.fields)).filter(":checked:not( .gplc-select-all )").each(function(){var e=this.id.split("_");t+=gform.applyFilters("gplcb_checkbox_count",1,d.formId,parseInt(e[2]),parseInt(e[3]))}),t},d.isGroupMaxed=function(e){return d.getCheckboxCheckedCount(e)>=e.max},d.isGroupBelowMin=function(e){return d.getCheckboxCheckedCount(e)<e.min},d.getSelector=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n in d.triggers&&t.push(d.triggers[n].selector)}return t.join(", ")},d.getCheckboxesByFieldIds=function(e){var t=e.join(",");return t in d.checkboxElemCache||(d.checkboxElemCache[t]=a(d.getSelector(e))),d.checkboxElemCache[t]},d.isFieldHidden=function(e){e=a("#input_"+d.formId+"_"+e);return gformIsHidden(e.children(":first-child"))},GPLimitCheckboxes.diff=function(e,t){return e.filter(function(e){return t.indexOf(e)<0})},d.init()}})(jQuery);
//# sourceMappingURL=gp-limit-checkboxes.js.map