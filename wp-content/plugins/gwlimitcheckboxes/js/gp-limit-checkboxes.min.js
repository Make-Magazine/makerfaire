!function(d){window.GPLimitCheckboxes=function(e){var l=this;for(prop in e)e.hasOwnProperty(prop)&&(l[prop]=e[prop]);l.init=function(){window.GPLimitCheckboxes&&!window.GPLimitCheckboxes.instances&&(window.GPLimitCheckboxes.instances={}),l.bindTriggerEvents(),l.listenForChanges(),window.GPLimitCheckboxes.instances[l.formId]=l},l.resetCheckboxElemCache=function(){l.checkboxElemCache={}},l.bindTriggerEvents=function(){for(var e=[],i=d.map(l.triggers,function(e){return e}),t=0;t<i.length;t++)e.push(i[t].selector);var n=d(e.join(", "));l.resetCheckboxElemCache(),n.each(function(){d(this).parents(".gfield").data("gf-disabled-assessed")&&!d(this).hasClass("gf-default-disabled")||d(this).hasClass("gplc-disabled")||d(this).filter(":disabled").addClass("gplc-pre-disabled")}),n.filter('input[id$="select_all"]').addClass("gplc-select-all"),n.change(function(){l.handleCheckboxClick(d(this))}).each(function(){l.handleCheckboxClick(d(this))})},l.listenForChanges=function(){d(document).on("gppa_updated_batch_fields",function(e,i){i==l.formId&&l.bindTriggerEvents()}),gform.addAction("gpi_field_refreshed",function(e,i,t){e.closest("form").prop("id").replace("gform_","")==l.formId&&l.bindTriggerEvents()})},l.handleCheckboxClick=function(e){for(var i=[],t=[],n=void 0!==e?parseInt(e.attr("id").split("_")[2]):null,r=window.gform.applyFilters("gplc_excluded_input_selectors",[],n,e,l).join(", "),c=0;c<l.groups.length;c++){var o=gform.applyFilters("gplc_group",d.extend(!0,{},l.groups[c]),n,e,l);l.isGroupMaxed(o)?d.merge(i,o.fields):d.merge(t,o.fields)}(t=GPLimitCheckboxes.diff(t,i)).length&&l.getCheckboxesByFieldIds(t).not(".gplc-pre-disabled, .gplc-select-all").not(r).attr("disabled",!1).removeClass("gplc-disabled");if(i.length){var s=l.getCheckboxesByFieldIds(i);s.not(":checked, .gplc-pre-disabled, .gplc-select-all").not(r).attr("disabled",!0).addClass("gplc-disabled"),s.filter(":checked:disabled:not( .gplc-pre-disabled )").not(r).attr("checked",!1).trigger("change")}},l.getCheckboxCheckedCount=function(e){var i=0;return d(l.getSelector(e.fields)).filter(":checked:not( .gplc-select-all )").each(function(){var e=this.id.split("_");i+=gform.applyFilters("gplcb_checkbox_count",1,l.formId,parseInt(e[2]),parseInt(e[3]))}),i},l.isGroupMaxed=function(e){return l.getCheckboxCheckedCount(e)>=e.max},l.isGroupBelowMin=function(e){return l.getCheckboxCheckedCount(e)<e.min},l.getSelector=function(e){for(var i=[],t=0;t<e.length;t++){var n=e[t];n in l.triggers&&i.push(l.triggers[n].selector)}return i.join(", ")},l.getCheckboxesByFieldIds=function(e){var i=e.join(",");return i in l.checkboxElemCache||(l.checkboxElemCache[i]=d(l.getSelector(e))),l.checkboxElemCache[i]},l.isFieldHidden=function(e){var i=d("#input_"+l.formId+"_"+e);return gformIsHidden(i.children(":first-child"))},GPLimitCheckboxes.diff=function(e,i){return e.filter(function(e){return i.indexOf(e)<0})},l.init()}}(jQuery);
//# sourceMappingURL=gp-limit-checkboxes.js.map